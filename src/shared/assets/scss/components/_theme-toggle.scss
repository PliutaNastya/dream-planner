@use "../abstracts/extends" as *;
@use "../abstracts/mixins" as *;
@use "../abstracts/functions" as *;
@use "../abstracts/extends" as *;
@use "../base/utilities" as *;

.theme-toggle {
	margin-block-start: var(--margin);
	max-width: rem(50);
	margin-inline: auto;
	width: 100%;
	padding: rem(5);
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: max(15px, 1vw);
	border-radius: rem(8);
	transition: background-color 0.3s ease-in-out 0.1s;

	label {
		position: relative;
		display: inline-block;
		cursor: pointer;

		@include clamp('width', 30px, 3vw, 1.5vw);
		@include clamp('height', 50px, 3vw, 3vw);

		span {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			height: 100%;
			background-color: var(--toggle-bg-color);
			border-radius: rem(10);
			transition: 0.4s;

			&::before {
				content: "";
				position: absolute;
				aspect-ratio: 1;
				border-radius: 50%;
				left: 50%;
				top: rem(5);
				transform: translateX(-50%);
				background-color: var(--secondary-bg-color);
				transition: 0.4s;

				@include clamp('width', 20px, 3vw, 1vw);
			}
		}
	}

	input {
		&:checked + span::before {
			transform: translateY(max(rem(20), 1.3vw)) translateX(-50%);
		}
		@include visually-hidden;
	}

	svg {
		flex-shrink: 0;
	}
}